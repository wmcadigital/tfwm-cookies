<!DOCTYPE html>
<html lang="en" class="wmnds-html">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TfWM Cookies</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="//unpkg.com/wmn-design-system@2.0.1/build/css/wmnds.min.css"
    />
  </head>
  <script src="//tfwm.org.uk/scripts/header-footer.min.js"></script>
  <body>
    <div class="wmnds-container wmnds-m-t-xl">
      <p class="wmnds-p-t-xl">
        If you don't see the cookie banner above, then clear your cookies.
      </p>

      <button class="wmnds-btn wmnds-btn--secondary" id="get-current-cookies">
        Check current cookies
        <svg class="wmnds-btn__icon wmnds-btn__icon--right">
          <use
            xlink:href="#wmnds-general-sync"
            href="#wmnds-general-sync"
          ></use>
        </svg>
      </button>

      <br /><br />

      <pre
        id="current-cookies"
        style="
          white-space: pre;
          font-family: monospace;
          background: whitesmoke;
          padding: 16px;
        "
      ></pre>
    </div>

    <script>
      function getCookies() {
        var cookies = document.cookie.split(';');
        var ret = '';
        for (var i = 1; i <= cookies.length; i++) {
          ret += i + ' - ' + cookies[i - 1] + '<br>';
        }
        return ret;
      }
      function getCurrentCookies() {
        document.getElementById('current-cookies').innerHTML = getCookies();
      }
      document
        .getElementById('get-current-cookies')
        .addEventListener('click', getCurrentCookies);
    </script>

    <script>
      const ajax = new XMLHttpRequest();
      ajax.open(
        'GET',
        'https://unpkg.com/wmn-design-system@2.0.1/build/img/wmnds-icons.min.svg',
        true,
      );
      ajax.send();
      ajax.onload = function () {
        const div = document.createElement('div');
        div.style.display = 'none';
        div.innerHTML = ajax.responseText;
        document.body.insertBefore(div, document.body.childNodes[0]);
      };
    </script>

    <!-- <script
      type="plain/text"
      data-cookiescript="accepted"
      data-cookiecategory="functional"
    >
      console.log('test')
    </script> -->

    <script type="module" src="/dist/index.js"></script>
  </body>
</html>
