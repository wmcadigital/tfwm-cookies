<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TfWM Cookies</title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/wmn-design-system@2.0.1/build/css/wmnds.min.css"
    />
  </head>
  <body>
    <header>
      <div class="wmnds-bg-white wmnds-p-t-md wmnds-p-b-md wmnds-cookies-banner">
        <div class="wmnds-container">
          <div class="wmnds-col-1 wmnds-col-md-3-4 wmnds-col-lg-2-3">
            <h3>Your privacy settings</h3>
            <p>
              We use cookies to help you with journey planning and relevant disruptions, remember
              your login and show you content you might be interested in. If you’re happy with the
              use of cookies by West Midlands Combined Authority and our selected partners, click
              ‘Accept all cookies’. Or click ‘Manage cookies’ to learn more.
            </p>
            <div class="wmnds-grid wmnds-grid--justify-between wmnds-cookies-banner__group-buttons">
              <button
                class="
                  wmnds-btn wmnds-col-1 wmnds-col-sm-1 wmnds-col-md-12-24
                  wmnds-cookies-banner__accept-all-cookies
                "
                type="button"
              >
                Accept all cookies
              </button>
              <a
                href="https://www.tfwm.org.uk/manage-cookies/"
                title="link title"
                target="_self"
                class="wmnds-btn wmnds-btn wmnds-col-1 wmnds-col-sm-1 wmnds-col-md-12-24"
              >
                Manage Cookies
              </a>
            </div>
          </div>
        </div>
      </div>
    </header>

    <div class="wmnds-container wmnds-m-t-xl">
      <p class="wmnds-p-t-xl">If you don't see the cookie banner above, then clear your cookies.</p>

      <button class="wmnds-btn wmnds-btn--secondary" id="get-current-cookies">
        Check current cookies

        <svg class="wmnds-btn__icon wmnds-btn__icon--right">
          <use xlink:href="#wmnds-general-sync" href="#wmnds-general-sync"></use>
        </svg>
      </button>

      <br /><br />

      <pre
        id="current-cookies"
        style="white-space: pre; font-family: monospace; background: whitesmoke; padding: 16px"
      ></pre>
    </div>

    <script>
      function getCookies() {
        var cookies = document.cookie.split(';');
        var ret = '';
        for (var i = 1; i <= cookies.length; i++) {
          ret += i + ' - ' + cookies[i - 1] + '<br>';
        }
        return ret;
      }
      function getCurrentCookies() {
        document.getElementById('current-cookies').innerHTML = getCookies();
      }
      document.getElementById('get-current-cookies').addEventListener('click', getCurrentCookies);
    </script>

    <script>
      const ajax = new XMLHttpRequest();
      ajax.open(
        'GET',
        'https://unpkg.com/wmn-design-system@2.0.1/build/img/wmnds-icons.min.svg',
        true
      );
      ajax.send();
      ajax.onload = function () {
        const div = document.createElement('div');
        div.style.display = 'none';
        div.innerHTML = ajax.responseText;
        document.body.insertBefore(div, document.body.childNodes[0]);
      };
    </script>

    <script src="/build/tfwm-cookies.min.js"></script>
  </body>
</html>
